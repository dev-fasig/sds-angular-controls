/*! 
 * sds-angular-controls
 * Angular Directives used with sds-angular generator
 * @version 0.5.2 
 * 
 * Copyright (c) 2016 Steve Gentile, David Benson 
 * @link https://github.com/SMARTDATASYSTEMSLLC/sds-angular-controls 
 * @license  MIT 
 */

angular.module("sds-angular-controls",["ui.bootstrap","toggle-switch","ngSanitize","selectize-ng","currencyMask"]),function(){"use strict";function a(){return function(a){return a.toLowerCase().replace(/ (\w)/g,function(a,b){return b.toUpperCase()})}}angular.module("sds-angular-controls").filter("camelCase",a)}(),function(){"use strict";function a(a){return function(b,c){if("string"==typeof c)return a("filter")(b,c);var d=function(a,b){for(var c=b.split(".");c.length&&(a=a[c.shift()]););return a},e=[];return _.each(c,function(a){if("date"===a.type&&a.filter){var b=a.filter.split("-"),c=moment(b[0]),d=moment(b[1]||c.clone().endOf("day"));c.isValid()&&d.isValid()&&e.push({filter:[c.valueOf(),d.valueOf()],key:a.key,type:a.type})}else if("number"===a.type&&a.filter){var f=a.filter.split("-");!f[0]&&f[1]&&(console.log(f),f.shift(),f[0]*=-1,console.log(f)),!f[1]&&f[2]&&(console.log(f),f.splice(1,1),f[1]*=-1,console.log(f)),""===f[1]&&(f[1]=Number.MAX_VALUE);var g=parseFloat(f[0]),h=parseFloat(f[1]||f[0]);e.push({filter:[g,h],key:a.key,type:a.type})}else if("boolean"!==a.type&&"bool"!==a.type||!a.filter)a.filter&&"string"==typeof a.filter&&e.push({filter:a.filter.toLowerCase(),key:a.key});else{var i=a.filter.toLowerCase();(i==="no".substr(0,i.length)||i==="false".substr(0,i.length))&&(i=!1),e.push({filter:!!i,key:a.key,type:a.type})}}),_.filter(b,function(a){return _.all(e,function(b){if(!b.key)return!0;if(!b.type&&_.isObject(d(a,b.key)))return _.any(d(a,b.key),function(c){return _.isPlainObject(c)?_.any(c,function(a){return(a+"").toLowerCase().indexOf(b.filter)>-1}):(d(a,b.key)+"").toLowerCase().indexOf(b.filter)>-1});if(!b.type)return(d(a,b.key)+"").toLowerCase().indexOf(b.filter)>-1;if("date"===b.type){var c=moment(d(a,b.key)).valueOf();return c>=b.filter[0]&&c<=b.filter[1]}return"number"===b.type?d(a,b.key)>=b.filter[0]&&d(a,b.key)<=b.filter[1]:"bool"===b.type?!!d(a,b.key)===b.filter:void 0})})}}a.$inject=["$filter"],angular.module("sds-angular-controls").filter("complexFilter",a)}(),function(){"use strict";function a(){return function(a,b){var c={};return angular.forEach(a,function(a,d){d!==b&&(c[d]=a)}),c}}angular.module("sds-angular-controls").filter("keyFilter",a)}(),function(){"use strict";function a(){return function(a){return(null===a||void 0===a||""===a)&&(a=" "),a=(a+"").replace(/([A-Z])/g," $1"),a[0].toUpperCase()+a.slice(1)}}angular.module("sds-angular-controls").filter("labelCase",a)}(),function(){"use strict";function a(){var a=["th","st","nd","rd"];return function(b){var c=b%100;return b+(a[(c-20)%10]||a[c]||a[0])}}angular.module("sds-angular-controls").filter("ordinal",a)}(),function(){"use strict";function a(){return function(a,b,c){return a&&a.length?(b=parseInt(b||0,10)||0,c=parseInt(c||0,10),c||(c=25),a.slice(b*c,(b+1)*c)):[]}}angular.module("sds-angular-controls").filter("page",a)}(),function(){"use strict";function a(a){return a.trustAsHtml}a.$inject=["$sce"],angular.module("sds-angular-controls").filter("unsafe",a)}(),angular.module("currencyMask",[]).directive("currencyMask",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=function(a,b){void 0==b&&(b=!1),a=a.toString();var c="-"===a[0];a=a.replace(/[^0-9\.]/g,"");var d=a.split(".");return d[0]=d[0].replace(/\d{1,3}(?=(\d{3})+(?!\d))/g,"$&,"),d[1]&&d[1].length>2&&(d[1]=d[1].substring(0,2)),b&&d[1]&&1===d[1].length?d[1]=d[1]+"0":b&&!d[1]&&(d[1]="00"),(c?"-":"")+"$"+d[0]+"."+d[1]},f=function(){var a=b.val(),c=a;a&&0!=a.length&&(a=e(a,!0),a!=c&&(b.val(a),b.triggerHandler("input")))};b.bind("keypress",function(a){var b=8==a.which||void 0==a.which||0==a.which?null:String.fromCharCode(a.which).match(/[^$,-.0-9]/);b&&a.preventDefault()}).bind("blur",f),d.$parsers.push(function(a){return a&&0!=a.length?(a=a.toString(),a=a.replace(/[^0-9\.\-]/g,"")):a}),d.$formatters.push(function(a){return a&&0!=a.length?a=e(a,!0):a})}}}),function(){"use strict";function a(a){return{restrict:"EA",require:"^formField",replace:!0,scope:{items:"=",groups:"=?",itemKey:"@?",itemValue:"@?",itemSort:"@?",itemGroupKey:"@?",itemGroupValue:"@?",dropdownDirection:"@?",allowCustom:"=?",style:"@?",layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-autocomplete.html",link:function(b,c,d,e){function f(){var c=0,d=_.reduce(b.items,function(a,b,d){return a.push({itemKey:d,itemValue:b,__sort:c++}),a},[]);return b.options.valueField="itemKey",b.options.labelField="itemValue",b.options.searchField=["itemValue"],b.reload=!0,a(function(){b.reload=!1}),d}c.find("select");switch(b.container=e.$scope,b.innerItems=[],b.$watch("items",function(c,d){if(b.items&&!_.isArray(b.items))b.innerItems=f();else{var e=0;b.innerItems=_.map(b.items,function(a){return a.__sort=e++,a})}c&&c!==d&&(b.reload=!0,a(function(){b.reload=!1}))}),e.$scope.layout){case"horizontal":b.layoutCss=b.layoutCss||"col-md-6";break;default:b.layoutCss=b.layoutCss||""}e.$scope.isAutofocus&&a(function(){c.find("select").focus()}),b.$watch("container.isReadonly",function(a){if(a&&b.container.record&&b.container.record[b.container.field]){var c=b.innerItems[b.container.record[b.container.field]];if(b.itemValue&&b.itemKey){var d=_.find(b.innerItems,function(a){return a[b.itemKey]===b.container.record[b.container.field]});c=d[b.itemValue]}b.readOnlyModel=c}});var g={plugins:["dropdown_direction"],dropdownDirection:b.dropdownDirection||"auto",valueField:b.itemKey,labelField:b.itemValue,searchField:[b.itemValue],sortField:b.itemSort||"__sort",maxOptions:1200};b.allowCustom&&(g.persist=!1,g.create=!0),b.itemGroupKey&&_.isArray(b.groups)&&(g.optgroups=b.groups,g.optgroupField=b.itemGroupKey,g.optgroupValueField=b.itemGroupKey,g.optgroupLabelField=b.itemGroupValue,b.$watch("groups",function(c,d){c!==d&&(b.options.optgroups=b.groups,b.reload=!0,a(function(){b.reload=!1}))})),b.options=g}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formAutocomplete",a)}(),function(){"use strict";function a(a){return{restrict:"E",transclude:!0,replace:!0,scope:{buttonClass:"@?",action:"&"},template:'<a href="" class="btn {{buttonClass}} {{isDisabled}}" ng-click="doPromise($event)" ng-transclude></a>',link:function(b,c,d){b.buttonClass=b.buttonClass||"btn-default",b.isDisabled="",b.doPromise=function(c){b.isDisabled||(b.isDisabled="disabled",a.when(b.action(c)).then(function(){b.isDisabled=""},function(){b.isDisabled=""}))}}}}a.$inject=["$q"],angular.module("sds-angular-controls").directive("formButton",a)}(),function(){"use strict";function a(a){return{restrict:"A",require:"^form-field, ngModel",compile:function(a,b){return a.attr("ng-model","container.record[container.field]"),a.attr("ng-required","container.isRequired"),a.attr("ng-disabled","container.isReadonly"),a.attr("name","{{::container.field}}"),function(a,b,c,d){var e=(b.find("input"),d[1],d[0]);a.container=e.$scope,c.min&&(e.$scope.min=c.min),c.max&&(e.$scope.max=c.max);var f=c.name||c.ngModel.substr(c.ngModel.lastIndexOf(".")+1);e.$scope.field=f}}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formControl",a)}(),function(){"use strict";function a(a){return{restrict:"EA",require:"^form-field",replace:!0,scope:{placeholder:"@?",rightLabel:"@?",mask:"@?",max:"@?",min:"@?",style:"@?",layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-currency-input.html",link:function(b,c,d,e){c.find("input");switch(b.container=e.$scope,e.$scope.layout){case"horizontal":b.layoutCss=b.layoutCss||"col-md-6";break;default:b.layoutCss=b.layoutCss||""}b.min&&(e.$scope.min=b.min),b.max&&(e.$scope.max=b.max),e.$scope.isAutofocus&&a(function(){c.find("input").focus()})}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formCurrencyInput",a)}(),function(){"use strict";function a(a,b){return{restrict:"EA",require:"^form-field",replace:!0,scope:{dateFormat:"@",max:"=?",min:"=?",style:"@?",layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-date-picker.html",link:function(b,c,d,e){c.find("input");switch(b.container=e.$scope,e.$scope.layout){case"horizontal":b.layoutCss=b.layoutCss||"col-md-6";break;default:b.layoutCss=b.layoutCss||""}e.$scope.isAutofocus&&a(function(){c.find("input").focus()}),b.dateFormat=b.dateFormat||"MM-dd-yyyy",b.calendar={opened:!1},b.open=function(a){a.preventDefault(),a.stopPropagation(),b.calendar.opened=!0},b.$watch("container.record[container.field]",function(a){"string"==typeof a&&(e.$scope.record[e.$scope.field]=moment.utc(e.$scope.record[e.$scope.field]).toDate())}),b.$watch("container.isReadonly",function(a){a&&b.container.record[b.container.field]&&(b.readOnlyModel=moment.utc(b.container.record[b.container.field]).format(b.dateFormat.toUpperCase()))}),b.max&&(e.$scope.max=moment.utc(b.max).format(b.dateFormat.toUpperCase())),b.min&&(e.$scope.min=moment.utc(b.min).format(b.dateFormat.toUpperCase()))}}}function b(){return{restrict:"EAC",require:"ngModel",link:function(a,b,c,d){d.$formatters.shift()}}}a.$inject=["$timeout","$log"],angular.module("sds-angular-controls").directive("formDatePicker",a).directive("datepickerPopup",b)}(),function(){"use strict";function a(a){return{restrict:"EA",require:"^form-field",replace:!0,scope:{dateFormat:"@",max:"=?",min:"=?",style:"@?",layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-date-time-picker.html",link:function(b,c,d,e){c.find("input");switch(b.container=e.$scope,e.$scope.layout){case"horizontal":b.layoutCss=b.layoutCss||"col-md-6";break;default:b.layoutCss=b.layoutCss||""}e.$scope.isAutofocus&&a(function(){c.find("input").focus()}),b.dateFormat=b.dateFormat||"MM-dd-yyyy",b.calendar={opened:!1},b.open=function(a){a.preventDefault(),a.stopPropagation(),b.calendar.opened=!0},b.$watch("container.record[container.field]",function(a){"string"==typeof a&&(e.$scope.record[e.$scope.field]=moment.utc(e.$scope.record[e.$scope.field]).toDate())}),b.$watch("container.isReadonly",function(a){if(a){var c=moment(b.container.record[b.container.field]);b.readOnlyModel=c.format(b.dateFormat.toUpperCase())+c.format(" h:mm a")}}),b.max&&(e.$scope.max=moment(b.max).format(b.dateFormat)),b.min&&(e.$scope.min=moment(b.min).format(b.dateFormat))}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formDateTimePicker",a)}(),function(){"use strict";function a(a,b){return{restrict:"EA",transclude:!0,replace:!0,scope:{record:"=",isRequired:"=?",isReadonly:"=?",isAutofocus:"=?",field:"@",label:"@",layout:"@?",labelCss:"@?",layoutCss:"@?",showLabel:"=?",errorLayoutCss:"@?",hideValidationMessage:"=?",log:"@?",validationFieldName:"@?"},templateUrl:"sds-angular-controls/form-directives/form-field.html",require:"^form",controller:["$scope",function(a){this.$scope=a}],link:function(c,d,e,f){c.showDefault=!1,b(function(){0===d.find("ng-transclude *").length&&(c.showDefault=!0)}),c.label||(c.label=a("labelCase")(c.field)),c.validationFieldName=c.validationFieldName||a("labelCase")(c.label),c.showLabel=c.showLabel!==!1,c.hideValidationMessage=c.hideValidationMessage||!1,c.layoutCss=c.layoutCss||"col-md-12",c.errorLayoutCss=c.errorLayoutCss||"col-md-12",c.layout=c.layout||"stacked","horizontal"===c.layout&&(c.labelCss=c.labelCss||"col-md-4"),c.showError=function(a){try{return f.$submitted?a.$invalid:d.find("[name="+a.$name+"]:focus").length?!1:a.$dirty&&a.$invalid}catch(b){return!1}}}}}a.$inject=["$filter","$timeout"],angular.module("sds-angular-controls").directive("formField",a)}(),function(){"use strict";function a(a){return{restrict:"E",require:"^form-field",replace:!0,scope:{placeholder:"@?",rightLabel:"@?",mask:"@?",max:"@?",min:"@?",maxlength:"@?",minlength:"@?",style:"@?",layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-input.html",link:function(b,c,d,e){var f=c.find("input");switch(b.container=e.$scope,e.$scope.layout){case"horizontal":b.layoutCss=b.layoutCss||"col-md-6";break;default:b.layoutCss=b.layoutCss||""}e.$scope.isAutofocus&&a(function(){c.find("input").focus()}),b.min&&(e.$scope.min=b.min),b.max&&(e.$scope.max=b.max),d.pattern&&f.attr("pattern",d.pattern),b.step=d.step||"any",b.type=d.type||"text",a(function(){var a=b.step.match(/^\d+$/);"number"===b.type&&c.find(".inputField").on("keydown",function(b){var c=b.which||b.keyCode;return b.metaKey||b.ctrlKey||!b.shiftKey&&c>=48&&57>=c||c>=96&&105>=c||109==c||189==c||!a&&190==c||110==c||8==c||9==c||13==c||35==c||36==c||37==c||39==c||46==c||45==c})})}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formInput",a)}(),function(){"use strict";function a(a){return{restrict:"EA",require:"^formField",replace:!0,scope:{items:"=",groups:"=?",itemKey:"@?",itemValue:"@?",itemGroupKey:"@?",itemGroupValue:"@?",allowCustom:"=?",style:"@?",layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-multi-select.html",link:function(b,c,d,e){c.find("select");switch(b.container=e.$scope,e.$scope.layout){case"horizontal":b.layoutCss=b.layoutCss||"col-md-6";break;default:b.layoutCss=b.layoutCss||""}e.$scope.isAutofocus&&a(function(){c.find("select").focus()}),b.$watch("container.isReadonly",function(a){if(a&&b.container.record&&b.container.record[b.container.field]){var c=b.items[b.container.record[b.container.field]];if(b.itemValue&&b.itemKey){var d=_.find(b.items,function(a){return a[b.itemKey]===b.container.record[b.container.field]});c=d[b.itemValue]}b.readOnlyModel=c}});var f={plugins:["remove_button"],valueField:b.itemKey,labelField:b.itemValue,searchField:[b.itemValue],maxOptions:10};b.allowCustom&&(f.persist=!1,f.create=!0),b.itemGroupKey&&_.isArray(b.groups)&&(f.optgroups=b.groups,f.optgroupField=b.itemGroupKey,f.optgroupValueField=b.itemGroupKey,f.optgroupLabelField=b.itemGroupValue),b.options=f}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formMultiSelect",a)}(),function(){"use strict";function a(a){return{restrict:"EA",require:"^formField",replace:!0,scope:{items:"=",itemKey:"@?",itemValue:"@?",style:"@?",layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-select.html",link:function(b,c,d,e){function f(a,b){for(var c=b.split(".");c.length&&(a=a[c.shift()]););return a}function g(a,b,c){var d=function(){};return d.prototype.orderedKeys=[],_.reduce(a,function(a,d){var e=f(d,b),g=f(d,c);return a[e]=g,a.orderedKeys.push(e),a},new d)}c.find("select");switch(b.container=e.$scope,b.innerItems={},b.$watch("items",function(a,c){b.items&&_.isArray(b.items)?b.itemKey&&b.itemValue&&(b.innerItems=g(b.items,b.itemKey,b.itemValue)):b.innerItems=b.items}),e.$scope.layout){case"horizontal":b.layoutCss=b.layoutCss||"col-md-6";break;default:b.layoutCss=b.layoutCss||""}e.$scope.isAutofocus&&a(function(){c.find("select").focus()}),b.$watch("container.isReadonly",function(a){if(a&&b.container.record&&b.container.record[b.container.field]){var c=b.innerItems[b.container.record[b.container.field]];b.readOnlyModel=c}}),b.orderHash=function(a){return a?a.orderedKeys||Object.keys(a):[]},b.convertType=function(a){return b.record&&b.record[b.field]&&"string"==typeof b.record[b.field]?a.toString():a&&!isNaN(a)?parseInt(a,10):a}}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formSelect",a)}(),function(){"use strict";function a(a){return{restrict:"EA",replace:!0,require:"^formField",scope:{style:"@?",layoutCss:"@?",maxlength:"@?",minlength:"@?"},templateUrl:"sds-angular-controls/form-directives/form-text-area.html",link:function(b,c,d,e){c.find("textarea");switch(b.container=e.$scope,e.$scope.layout){case"horizontal":b.layoutCss=b.layoutCss||"col-md-6";break;default:b.layoutCss=b.layoutCss||""}e.$scope.isAutofocus&&a(function(){c.find("textarea").focus()})}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formTextArea",a)}(),function(){"use strict";function a(a){return{restrict:"EA",replace:!0,require:"^form-field",scope:{placeholder:"@?",toggleField:"@?",toggleSwitchType:"@?",onLabel:"@?",offLabel:"@?",style:"@?",layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-text-toggle.html",link:function(b,c,d,e){c.find("input");switch(b.container=e.$scope,e.$scope.layout){case"horizontal":b.layoutCss=b.layoutCss||"col-md-6";break;default:b.layoutCss=b.layoutCss||""}e.$scope.isAutofocus&&a(function(){c.find("input").focus()}),b.type=d.type||"text",b.toggleSwitchType=b.toggleSwitchType||"primary",b.onLabel=b.onLabel||"Yes",b.offLabel=b.offLabel||"No"}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formTextToggle",a)}(),function(){"use strict";function a(a){return{restrict:"E",replace:!0,require:"^form-field",scope:{layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-time-picker.html",link:function(a,b,c,d){switch(a.container=d.$scope,d.$scope.layout){case"horizontal":a.layoutCss=a.layoutCss||"col-md-6";break;default:a.layoutCss=a.layoutCss||""}a.$watch("container.record[container.field]",function(a){"string"==typeof a&&(d.$scope.record[d.$scope.field]=moment.utc(d.$scope.record[d.$scope.field]).toDate())}),a.$watch("container.isReadonly",function(b){b&&(a.readOnlyModel=moment(a.container.record[a.container.field]).format("h:mm a"))})}}}a.$inject=["$timeout"],angular.module("sds-angular-controls").directive("formTimePicker",a)}(),function(){"use strict";function a(a){return{restrict:"EA",replace:!0,require:"^form-field",scope:{toggleSwitchType:"@?",onLabel:"@?",offLabel:"@?",style:"@?",layoutCss:"@?"},templateUrl:"sds-angular-controls/form-directives/form-toggle.html",link:function(a,b,c,d){switch(a.container=d.$scope,d.$scope.layout){case"horizontal":a.layoutCss=a.layoutCss||"col-md-6";break;default:a.layoutCss=a.layoutCss||""}a.toggleSwitchType=a.toggleSwitchType||"primary",a.onLabel=a.onLabel||"Yes",a.offLabel=a.offLabel||"No"}}}a.$inject=["$filter"],angular.module("sds-angular-controls").directive("formToggle",a)}(),function(){"use strict";function a(){return{restrict:"A",scope:{maskInput:"@"},link:function(a,b){a.maskInput&&$(b).mask(a.maskInput)}}}angular.module("sds-angular-controls").directive("maskInput",a)}(),function(){"use strict";function a(){return function(a){if(!a)return"";var b=a.toString().trim().replace(/^\+/,"");if(b.match(/[^0-9]/))return a;var c,d,e;switch(b.length){case 10:c=1,d=b.slice(0,3),e=b.slice(3);break;case 11:c=b[0],d=b.slice(1,4),e=b.slice(4);break;case 12:c=b.slice(0,3),d=b.slice(3,5),e=b.slice(5);break;default:return a}return 1===c&&(c=""),e=e.slice(0,3)+"-"+e.slice(3),(c+" ("+d+") "+e).trim()}}angular.module("sds-angular-controls").filter("phoneNumber",a)}(),function(){angular.module("selectize-ng",[]).directive("selectize",function(){"use strict";return{restrict:"A",require:"ngModel",scope:{selectize:"&",options:"&",defaults:"&",selecteditems:"="},link:function(a,b,c,d){function e(b){if(m){if(c.selecteditems){var e=[],g=f(b);angular.forEach(g,function(a){e.push(p.options[a])}),a.$apply(function(){a.selecteditems=e})}}else a.$parent.$apply(function(){d.$setViewValue(b),p.$control.toggleClass("ng-valid",d.$valid),p.$control.toggleClass("ng-invalid",d.$invalid),p.$control.toggleClass("ng-dirty",d.$dirty),p.$control.toggleClass("ng-pristine",d.$pristine)}),"single"===o.mode&&p.blur()}function f(a){return angular.isArray(a)?a:a?String(a).split(o.delimiter):[]}function g(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1}function h(a,b){return-1!==g(a,b)}function i(a,b){a.map(function(a){h(b,a)||h(q,a)||q.push(a)})}function j(a,b){var c,d;for(c=0;c<a.length;c++)d=g(q,a[c][p.settings.valueField]),-1!==d&&(b.push(a[c][p.settings.valueField]),q.splice(d,1))}function k(a,b){a||setTimeout(function(){p.clear()});var c=f(a);m||c===f(p.getValue())||(m=!0,"single"===o.mode&&a?setTimeout(function(){p.setValue(a),m=!1}):"multi"===o.mode&&a?setTimeout(function(){p.setValue(c),m=!1,i(c,f(p.getValue()))}):a||(m=!1),p.$control.toggleClass("ng-valid",d.$valid),p.$control.toggleClass("ng-invalid",d.$invalid),p.$control.toggleClass("ng-dirty",d.$dirty),p.$control.toggleClass("ng-pristine",d.$pristine))}function l(b){if(b){var e;c.defaults&&!n?(m=!1,e=f(a.defaults()),n=!n):c.defaults||(e=f(d.$viewValue)),p.clearOptions(),p.addOption(b),p.refreshOptions(!1),"multi"===o.mode&&b&&e&&j(b,e),k(e)}}var m,n,o,p,q=[];n=!1,o=angular.extend({delimiter:",",persist:!0,mode:"SELECT"===b[0].tagName?"single":"multi"},a.selectize()||{}),p=b.selectize(o)[0].selectize,p.on("change",function(){e(p.getValue())}),a.$parent.$watch(c.ngModel,k),c.options&&a.$parent.$watchCollection(c.options,l),a.$on("$destroy",function(){p.destroy()})}}}),Selectize.define("dropdown_direction",function(a){function b(a){var b=d.settings.dropdownDirection;return"auto"===b&&(b=a.control.below>a.dropdown.height?"down":a.control.above>a.control.below?"up":"down"),b}function c(){var a=d.$control,b=$(window),c=a.outerHeight(!1),e=a.offset().top-b.scrollTop(),f=b.height()-e-c,g=d.$dropdown.outerHeight(!1);return{control:{height:c,above:e,below:f},dropdown:{height:g}}}var d=this;this.positionDropdown=function(){return function(){var a=this.$control,d=this.$dropdown,e=c(),f=b(e);"up"===f?d.addClass("direction-up").removeClass("direction-down"):d.addClass("direction-down").removeClass("direction-up"),a.attr("data-dropdown-direction",f);var g,h="body"===this.settings.dropdownParent,i=h?a.offset():a.position();switch(f){case"up":i.top-=e.dropdown.height,e.dropdown.height>e.control.above&&(g=e.control.above-15);break;case"down":i.top+=e.control.height,e.dropdown.height>e.control.below&&(g=e.control.below-15)}g&&this.$dropdown_content.css({"max-height":g}),this.$dropdown.css({width:a.outerWidth(),top:i.top,left:i.left})}}()})}(),function(){"use strict";function a(a,b){return{restrict:"E",require:"^dbGrid",scope:{api:"@",postParams:"="},link:function(c,d,e,f){function g(a){return a.charAt(0).toUpperCase()+a.slice(1)}function h(a){return a-parseFloat(a)+1>=0}function i(d,e,h,i,k,l){var m={page:i+1,pageSize:k,sort:[],filter:j(d,l)};return null!==e&&m.sort.push({field:g(e),direction:h?"":"desc"}),_.merge(m,c.postParams,function(a,b){return _.isArray(a)?a.concat(b):void 0}),c.query=m,b.$broadcast("db-api:start",m),f.setWaiting(!0),a.post(c.api,m).then(function(a){return b.$broadcast("db-api:complete",a.data),f.setTotal(a.data.total),f.setWaiting(!1),a.data.tableData},function(){f.setWaiting(!1),b.$broadcast("db-api:complete")})}function j(a,b){var c={filters:[]},d=/^(\s*(\d+[-\/]){2}[^-]*)-(\s*(\d+[-\/]){2}[^-]*)$/,e=/^(\s*(\d+[-\/]){2}[^-]*)$/;if("object"==typeof a){var f;c.logic="and",c.filters=_.reduce(b,function(b,c){return c.key&&c.filter&&"number"===c.type&&"-"===c.filter[0]?(f=c.filter.slice(1),h(f)&&b.push({fieldType:"decimal",fieldOperator:"lt",fieldValue:parseFloat(f),field:g(c.key)})):c.key&&c.filter&&"date"===c.type&&"-"===c.filter[0]?(f=c.filter.slice(1),e.test(f)&&moment(f).isValid()&&b.push({fieldType:"datetime",fieldOperator:"lt",fieldValue:moment(f).utcOffset(0).format("MM/DD/YYYY HH:mm a"),field:g(c.key)})):c.key&&c.filter&&"date"===c.type&&"-"===c.filter[c.filter.length-1]?(f=c.filter.slice(0,-1),e.test(f)&&moment(f).isValid()&&b.push({fieldType:"datetime",fieldOperator:"gt",fieldValue:moment(f).utcOffset(0).format("MM/DD/YYYY HH:mm a"),field:g(c.key)})):c.key&&c.filter&&"number"===c.type&&c.filter.indexOf("-")>0?(f=c.filter.split("-"),!f[0]&&f[1]&&(f.slice(0,1),f[0]*=-1),!f[1]&&f[2]&&(f.slice(1,1),f[1]*=-1),h(f[0])&&h(f[1])&&(b.push({fieldType:"decimal",fieldOperator:"gte",fieldValue:parseFloat(f[0]),field:g(c.key)}),b.push({fieldType:"decimal",fieldOperator:"lte",fieldValue:parseFloat(f[1]),field:g(c.key)}))):c.key&&c.filter&&"date"===c.type&&d.test(c.filter)?(f=d.exec(c.filter),moment(f[1]).isValid()&&moment(f[3]).isValid()&&(b.push({fieldType:"datetime",fieldOperator:"gte",fieldValue:moment(f[1]).utcOffset(0).format("MM/DD/YYYY HH:mm a"),field:g(c.key)}),b.push({fieldType:"datetime",fieldOperator:"lte",fieldValue:moment(f[3]).endOf("day").utcOffset(0).format("MM/DD/YYYY HH:mm a"),field:g(c.key)}))):c.key&&c.filter&&"number"===c.type?h(c.filter)&&b.push({fieldType:"decimal",fieldOperator:"eq",fieldValue:parseFloat(c.filter),field:g(c.key)}):c.key&&c.filter&&"boolean"===c.type?(/^0|(false)|(no)|n|f$/i.test(a)||/^[1-9]\d*|(true)|(yes)|y|t$/i.test(c.filter))&&b.push({fieldType:"boolean",fieldOperator:"eq",fieldValue:/^[1-9]\d*|(true)|(yes)|y|t$/i.test(c.filter),field:g(c.key)}):c.key&&c.filter&&"date"===c.type?moment(c.filter).isValid()&&(b.push({fieldType:"datetime",fieldOperator:"gte",fieldValue:moment(c.filter).startOf("day").utcOffset(0).format("MM/DD/YYYY HH:mm a"),field:g(c.key)}),b.push({fieldType:"datetime",fieldOperator:"lte",fieldValue:moment(c.filter).endOf("day").utcOffset(0).format("MM/DD/YYYY HH:mm a"),field:g(c.key)})):c.key&&c.filter&&(0===c.filter.indexOf("eq ")?b.push({fieldType:"string",fieldOperator:"eq",fieldValue:c.filter.substring(3,c.filter.length),field:g(c.key)}):b.push({fieldType:"string",fieldOperator:"contains",fieldValue:c.filter,field:g(c.key)})),b},[])}else"string"==typeof a&&a&&(c.logic="or",c.filters=_.reduce(b,function(b,c){return c.key&&c.sortable&&"number"===c.type?h(a)&&b.push({fieldType:"decimal",fieldOperator:"eq",fieldValue:parseFloat(a),field:g(c.key)}):c.key&&c.sortable&&"boolean"===c.type?(/^0|(false)|(no)|n|f$/i.test(a)||/^1|(true)|(yes)|y|t$/i.test(a))&&b.push({fieldType:"boolean",fieldOperator:"eq",fieldValue:/^1|(true)|(yes)|y|t$/i.test(a),field:g(c.key)}):c.key&&c.sortable&&"date"===c.type?e.test(a)&&moment(a).isValid()&&b.push({fieldType:"date",fieldOperator:"eq",fieldValue:a,field:g(c.key)}):c.key&&c.sortable&&(0===a.indexOf("eq ")?b.push({fieldType:"string",fieldOperator:"eq",fieldValue:a.substring(3,a.length),field:g(c.key)}):b.push({fieldType:"string",fieldOperator:"contains",fieldValue:a,field:g(c.key)})),b},[]));return c}e.postParams&&c.$watch("postParams",function(a){a&&f.refresh(!0)}),f.setDataSource(i)}}}a.$inject=["$http","$rootScope"],angular.module("sds-angular-controls").directive("dbApiVelocity",a)}(),function(){"use strict";function a(a){return{restrict:"A",link:function(b,c){if("function"==typeof b._col.template)c.append(b._col.template(b));else if(!c.html().trim()){var d=angular.element("<span>"+b._col.template+"</span>"),e=a(d);c.append(d),e(b),c.data("compiled",e)}b._col.layoutCss&&c.addClass(b._col.layoutCss)}}}a.$inject=["$compile"],angular.module("sds-angular-controls").directive("dbBindCell",a)}(),function(){"use strict";function a(a){return{restrict:"E",require:"^dbGrid",compile:function(b){var c=b.html().trim();return b.empty(),function(b,d,e,f){var g=null;!c&&e.key&&(c="{{"+f.rowName+"."+e.key+"}}"),g="true"===e.bind?c:a(c);var h={index:d.prevAll("db-col").length,filter:e.query,width:e.width,layoutCss:e.layoutCss,key:e.key,label:e.label,sortable:"false"===e.sortable?!1:!!e.key,type:e.type,title:e.title,bind:"true"===e.bind,template:g};f.addColumn(h),void 0!==e.query&&e.$observe("query",function(a,b){a!==b&&(a&&f.setAdvanced(!0),h.filter=a,f.refresh())}),b.$on("$destroy",function(){f.removeColumn(h)})}}}}a.$inject=["$interpolate"],angular.module("sds-angular-controls").directive("dbCol",a)}(),function(){"use strict";function a(a,b,c,d){return{restrict:"E",replace:!0,transclude:!0,scope:!0,templateUrl:"sds-angular-controls/table-directives/db-grid.html",compile:function(a,b){var c=b["for"].split(" ");if(1!==c.length&&"in"!==c[1])return void d.error("Invalid loop");var e=a.find("tbody").children();e.attr("ng-repeat",c[0]+" in _model.filteredItems");var f=b.rowClick;f&&e.attr("ng-click",f);var g=b.rowCss;g&&e.attr("ng-class",g)},controller:["$scope","$element","$attrs",function(d,e,f){function g(a,b,e,f,g,h){if(d._model.items){var i=o(d._model.items,a);return b&&(i=p(i,b,!e)),d._model.total=i?i.length:0,c.when(q(i,f,g))}return c.when(null)}function h(a){d._model.sort===a?d._model.sortAsc=!d._model.sortAsc:d._model.sort=a}function i(){_.each(d._model.cols,function(a){a.filter=""}),d._model.refresh()}function j(){1===d._model.items.length&&b(function(){e.find("tbody tr a:first").click()})}function k(a){return a.title?a.title:"bool"===a.type?"Filter using yes, no, true, or false":a.type?"Use a dash (-) to specify a range":void 0}function l(){for(var a=[],b=1;b<=d._model.total/d._model.pageSize+1;b++)b>d._model.currentPage-5&&b<d._model.currentPage+5&&a.push(b);return a}function m(a){d.$grid.noResetRefreshFlag||a===!1?d.$grid.noResetRefreshFlag=!1:(d._model.currentPage=1,d._model.isApi&&(d._model.filteredItems=null)),n()}function n(){d._model.getItems(d._model.showAdvancedFilter?d._model.cols:d._model.filterText,null!==d._model.sort?d._model.cols[d._model.sort].key:null,d._model.sortAsc,d._model.currentPage-1,d._model.pageSize,d._model.cols).then(function(a){d._model.filteredItems=a})}var o=a("complexFilter"),p=a("orderBy"),q=a("page");d._model={isApi:!1,label:f.label,layoutCss:f.layoutCss,currentPage:1,total:0,sortAsc:f.sort?"-"!==f.sort[0]:!0,sort:null,filterText:null,showAdvancedFilter:!1,pageSize:f.pageSize?parseInt(f.pageSize,10):25,filterType:(f.filter||"advanced").toLowerCase(),cols:[],items:null,filteredItems:null,getTooltip:k,getItems:g,toggleSort:h,clearFilters:i,getPages:l,onEnter:j,refresh:_.debounce(n,100),waiting:!1},d.$grid={refresh:_.debounce(m,100),items:function(){return d._model.filteredItems},noResetRefreshFlag:!1};var r=f["for"].split(" ");this.rowName=r[0],r[2]&&d.$watchCollection(r.slice(2).join(" "),function(a,b){d.$grid.noResetRefreshFlag?d.$grid.noResetRefreshFlag=!1:d._model.currentPage=1,d._model.filteredItems=null,d._model.items=a,d._model.refresh()}),this.addColumn=function(a){var b=f.sort||"";("-"===b[0]||"+"===b[0])&&(b=b.slice(1)),b&&b===a.key&&null===d._model.sort?d._model.sort=d._model.cols.length:d._model.sort>a.index&&(d._model.sort+=1),a.filter&&(d._model.showAdvancedFilter=!0),d._model.cols.splice(a.index,0,a)},this.removeColumn=function(a){var b=d._model.cols.indexOf(a);b>-1&&(d._model.cols.splice(b,1),d._model.sort>=b&&(d._model.sort-=1))},this.setDataSource=function(a){b(function(){d._model.getItems=a,d._model.isApi=!0,d._model.refresh.cancel(),d.$grid.refresh.cancel(),d._model.refresh=_.debounce(n,1e3),d.$grid.refresh=_.debounce(m,1e3),n()})},this.setTotal=function(a){d._model.total=a},this.setWaiting=function(a){d._model.waiting=a},this.setAdvanced=function(a){d._model.showAdvancedFilter=a},this.refresh=function(a){(d._model.items||a)&&m()},void 0!==f.query&&f.$observe("query",function(a,b){a!==b&&(_.isString(a)&&(d._model.filterText=a),d._model.refresh())}),d.$watch("_model.currentPage",n),d.$watch("_model.sort",d._model.refresh),d.$watch("_model.sortAsc",d._model.refresh)}]}}a.$inject=["$filter","$timeout","$q","$log"],angular.module("sds-angular-controls").directive("dbGrid",a)}(),function(){"use strict";function a(){return{restrict:"EA",link:function(a,b,c,d,e){e(function(c,d){b.empty(),d.$grid=a.$grid,b.append(c)})}}}angular.module("sds-angular-controls").directive("dbTransclude",a)}(),function(){"use strict";function a(){return{restrict:"A",require:["ngModel","^?form"],link:function(a,b,c,d){var e={};angular.copy(d[0],e),d[1]&&d[1].$removeControl(d[0]);var f={$addControl:angular.noop,$removeControl:angular.noop,$setValidity:function(a,b,c){},$setDirty:function(){b.removeClass("ng-pristine").addClass("ng-dirty"),d[0].$dirty=!0,d[0].$pristine=!1},$setPristine:function(){b.removeClass("ng-dirty").addClass("ng-pristine"),d[0].$dirty=!1,d[0].$pristine=!0}};angular.extend(d[0],f)}}}angular.module("sds-angular-controls").directive("isolateControl",a)}(),angular.module("sds-angular-controls").run(["$templateCache",function(a){"use strict";a.put("sds-angular-controls/form-directives/form-autocomplete.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }}"> <select ng-if="!container.isReadonly && !reload" ng-readonly="container.isReadonly" ng-required="container.isRequired" name="{{::container.field}}" selectize="options" options="innerItems" class="{{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="container.record[container.field]"></select> <!-- optionValue as optionLabel for arrayItem in array --> <input ng-if="container.isReadonly" style="{{::style}}" readonly type="text" class="form-control {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="readOnlyModel"> </div>'),
a.put("sds-angular-controls/form-directives/form-currency-input.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }}"> <input class="form-control inputField {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="container.record[container.field]" type="text" name="{{::container.field}}" ng-required="container.isRequired" ng-disabled="container.isReadonly" step="any" style="{{::style}}" currency-mask> <div ng-if="::(rightLabel && rightLabel.length > 0)" class="rightLabel">{{::rightLabel}}</div> </div>'),a.put("sds-angular-controls/form-directives/form-date-picker.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }}"> <span class="input-group {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-if="!container.isReadonly"> <input type="text" style="{{::style}}" class="form-control datepicker" placeholder="{{placeholder || container.label}}" ng-model="container.record[container.field]" ng-required="::container.isRequired" min-date="min" max-date="max" datepicker-popup="{{::dateFormat}}" is-open="calendar.opened"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button> </span> </span> <input ng-if="container.isReadonly" style="{{::style}}" readonly type="text" class="form-control {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="readOnlyModel"> </div>'),a.put("sds-angular-controls/form-directives/form-date-time-picker.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }} datepicker timepicker"> <span class="input-group {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-if="!container.isReadonly"> <input type="text" style="{{::style}}" class="form-control datepicker" placeholder="{{placeholder || container.label}}" ng-model="container.record[container.field]" ng-required="::container.isRequired" min-date="min" max-date="max" datepicker-popup="{{::dateFormat}}" is-open="calendar.opened"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button> </span> </span> <timepicker ng-if="!container.isReadonly" ng-model="container.record[container.field]" ng-required="::container.isRequired" ng-if="!container.isReadonly" minute-step="1"></timepicker> <input ng-if="container.isReadonly" style="{{::style}}" readonly type="text" class="form-control {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="readOnlyModel"> </div>'),a.put("sds-angular-controls/form-directives/form-field-validation.html",'<div ng-if="!hideValidationMessage" class="has-error" ng-show="showError({{field}})" ng-messages="{{field}}.$error"> <span class="control-label" ng-message="required"> {{ validationFieldName }} is required. </span> <span class="control-label" ng-message="text"> {{ validationFieldName }} should be text. </span> <span class="control-label" ng-message="integer"> {{ validationFieldName }} should be an integer. </span> <span class="control-label" ng-message="email"> {{ validationFieldName }} should be an email address. </span> <span class="control-label" ng-message="date"> {{ validationFieldName}} should be a date. </span> <span class="control-label" ng-message="datetime"> {{ validationFieldName }} should be a datetime. </span> <span class="control-label" ng-message="time"> {{ validationFieldName }} should be a time. </span> <span class="control-label" ng-message="month"> {{ validationFieldName }} should be a month. </span> <span class="control-label" ng-message="week"> {{ validationFieldName }} should be a week. </span> <span class="control-label" ng-message="url"> {{ validationFieldName }} should be an url. </span> <span class="control-label" ng-message="zip"> {{ validationFieldName }} should be a valid zipcode. </span> <span class="control-label" ng-message="number">{{ validationFieldName }} must be a number</span> <span class="control-label" ng-message="tel">{{ validationFieldName }} must be a phone number</span> <span class="control-label" ng-message="color">{{ validationFieldName }} must be a color</span> <span class="control-label" ng-message="min"> {{ validationFieldName }} must be at least {{min}}. </span> <span class="control-label" ng-message="max"> {{ validationFieldName }} must not exceed {{max}} </span> <span class="control-label" ng-repeat="(k, v) in types" ng-message="{{k}}"> {{ validationFieldName }}{{v[1]}}</span> </div>'),a.put("sds-angular-controls/form-directives/form-field.html",'<div> <div ng-if="layout === \'stacked\'" class="row"> <div class="form-group clearfix" ng-form="{{field}}" ng-class="{ \'has-error\': showError({{field}}) }"> <div class="{{::layoutCss}}"> <label ng-if="showLabel" class="control-label {{labelCss}}"> {{ label }} <span ng-if="isRequired && !isReadonly">*</span></label> <ng-transclude></ng-transclude> <div ng-if="showDefault"><form-input></form-input></div> <!-- validation --> <div class="pull-left" ng-include="\'sds-angular-controls/form-directives/form-field-validation.html\'"></div> </div> </div> </div> <div ng-if="layout === \'horizontal\'" class="row inline-control"> <div class="form-group clearfix" ng-form="{{field}}" ng-class="{ \'has-error\': showError({{field}}) }"> <label ng-if="showLabel" class="control-label {{labelCss}}"> {{ label }} <span ng-if="isRequired && !isReadonly">*</span></label> <ng-transclude></ng-transclude> <div ng-if="showDefault"><form-input></form-input></div> <!-- validation --> <div ng-if="!hideValidationMessage" ng-show="showError({{field}})" class="popover validation right alert-danger" style="display:inline-block; top:auto; left:auto; margin-top:-4px; min-width:240px"> <div class="arrow" style="top: 20px"></div> <div class="popover-content" ng-include="\'sds-angular-controls/form-directives/form-field-validation.html\'"> </div> </div> </div> </div> <div ng-if="layout !== \'stacked\' && layout !== \'horizontal\'" ng-form="{{field}}" ng-class="{ \'has-error\': showError({{field}}) }" class="grid-control {{::layoutCss}}"> <ng-transclude></ng-transclude> <div ng-if="showDefault"><form-input></form-input></div> </div> <div ng-if="log"> form-input value: {{record[field]}}<br> {{isRequired}} </div> </div>'),a.put("sds-angular-controls/form-directives/form-input.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }}"> <input class="form-control inputField {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="container.record[container.field]" name="{{::container.field}}" type="{{::type}}" ng-if="type !== \'number\'" ng-required="container.isRequired" ng-disabled="container.isReadonly" placeholder="{{placeholder || container.label}}" style="{{::style}}" mask-input="{{mask}}" maxlength="{{maxlength || \'\'}}" minlength="{{minlength || -1}}"> <input class="form-control inputField {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="container.record[container.field]" name="{{::container.field}}" type="number" ng-if="type === \'number\'" ng-required="container.isRequired" ng-disabled="container.isReadonly" placeholder="{{placeholder || container.label}}" min="{{::min}}" max="{{::max}}" step="{{::step}}" style="{{::style}}" mask-input="{{mask}}"> <div ng-if="::(rightLabel && rightLabel.length > 0)" class="rightLabel">{{::rightLabel}}</div> </div>'),a.put("sds-angular-controls/form-directives/form-multi-select.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }}"> <input ng-if="!container.isReadonly" ng-readonly="container.isReadonly" ng-required="container.isRequired" name="{{::container.field}}" selectize="options" options="items" class="{{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="container.record[container.field]"> <!-- optionValue as optionLabel for arrayItem in array --> <input ng-if="container.isReadonly" style="{{::style}}" readonly type="text" class="form-control {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="readOnlyModel"> </div>'),a.put("sds-angular-controls/form-directives/form-select.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }}"> <select ng-if="!container.isReadonly" class="form-control {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" name="{{::container.field}}" ng-model="container.record[container.field]" ng-options="convertType(key) as innerItems[key] for key in orderHash(innerItems)" ng-required="container.isRequired"></select> <!-- optionValue as optionLabel for arrayItem in array --> <input ng-if="container.isReadonly" style="{{::style}}" readonly type="text" class="form-control {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="readOnlyModel"> </div>'),a.put("sds-angular-controls/form-directives/form-text-area.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }}"> <textarea class="form-control inputField {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="container.record[container.field]" name="{{::container.field}}" ng-required="container.isRequired" ng-disabled="container.isReadonly" maxlength="{{maxlength || \'\'}}" minlength="{{minlength || -1}}" style="{{::style}}"></textarea> </div>'),a.put("sds-angular-controls/form-directives/form-text-toggle.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }} text-toggle"> <input type="text" ng-disabled="container.isReadonly" type="{{::type}}" class="form-control {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-required="container.isRequired" ng-model="container.record[container.field]"> <!-- bug in toggle where setting any disabled makes it disabled - so needing an if here --> <toggle-switch ng-if="container.isReadonly" is-disabled="true" class="{{::toggleSwitchType}}" ng-model="container.record[toggleField]" on-label="{{::onLabel}}" off-label="{{::offLabel}}"> </toggle-switch> <toggle-switch ng-if="!container.isReadonly" class="{{::toggleSwitchType}}" ng-model="container.record[toggleField]" on-label="{{::onLabel}}" off-label="{{::offLabel}}"> </toggle-switch> </div>'),a.put("sds-angular-controls/form-directives/form-time-picker.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }} timepicker"> <timepicker ng-model="container.record[container.field]" ng-required="::container.isRequired" ng-if="!container.isReadonly" minute-step="1"></timepicker> <input ng-if="container.isReadonly" style="{{::style}}" readonly type="text" class="form-control {{::container.layout !== \'horizontal\' ? layoutCss : \'\'}}" ng-model="readOnlyModel"> </div>'),a.put("sds-angular-controls/form-directives/form-toggle.html",'<div class="{{::container.layout === \'horizontal\' ? layoutCss : \'\' }}"> <!-- bug in toggle where setting any disabled makes it disabled - so needing an if here --> <toggle-switch ng-if="container.isReadonly" style="{{::style}}" is-disabled="true" class="{{::toggleSwitchType}}" ng-model="container.record[container.field]" on-label="{{::onLabel}}" off-label="{{::offLabel}}"> </toggle-switch> <toggle-switch ng-if="!container.isReadonly" style="{{::style}}" class="{{::toggleSwitchType}}" ng-model="container.record[container.field]" on-label="{{::onLabel}}" off-label="{{::offLabel}}"> </toggle-switch> </div>'),a.put("sds-angular-controls/table-directives/db-grid.html",'<div class="table-responsive db-grid"> <div class="btn-toolbar"> <a ng-if="_model.showAdvancedFilter" href="" class="btn btn-default" ng-click="_model.clearFilters()">Clear All Filters <span class="big-x">&times;</span></a> <div ng-if="!_model.showAdvancedFilter && _model.filterType !== \'none\'" class="toolbar-input"> <div class="form-group has-feedback"> <input class="form-control" type="text" ng-model="_model.filterText" ng-keyup="$grid.refresh()" placeholder="Filter {{_model.label || \'items\'}}" on-enter="_model.onEnter()" isolate-control> <a href="" ng-click="_model.filterText = \'\'; $grid.refresh()" class="form-control-feedback feedback-link">&times;</a> </div> </div> <a href="" ng-if="_model.filterType === \'advanced\'" class="btn btn-default" ng-class="{\'btn-primary\': _model.showAdvancedFilter}" ng-click="_model.showAdvancedFilter = !_model.showAdvancedFilter">{{_model.showAdvancedFilter ? \'Simple\' : \'Advanced\'}} Filtering</a> <db-transclude></db-transclude> <p ng-if="_model.total && _model.label"><i>{{_model.total}} {{_model.label}}</i></p> </div> <table class="table db-grid table-hover {{_model.layoutCss}}"> <thead> <tr ng-if="_model.showAdvancedFilter"> <th ng-repeat="_col in _model.cols" ng-style="{width: _col.width}" class="{{_col.layoutCss}}"> <div ng-if="::_col.sortable"> <input type="text" class="form-control filter-input" on-enter="_model.onEnter()" ng-keyup="$grid.refresh()" ng-model="_col.filter" placeholder="Filter {{::_col.label || (_col.key | labelCase)}}" tooltip="{{_model.getTooltip(_col)}}" tooltip-trigger="focus" tooltip-placement="top" isolate-control> </div>   <tr> <th ng-repeat="_col in _model.cols" ng-style="{width: _col.width}" class="{{_col.layoutCss}}"> <a href="" ng-if="::_col.sortable" ng-click="_model.toggleSort($index)">{{::_col.label || (_col.key | labelCase) }}&nbsp;<i class="fa" style="display: inline" ng-class="{\n                         \'fa-sort\'     : _model.sort !== $index,\n                         \'fa-sort-down\': _model.sort === $index &&  _model.sortAsc,\n                         \'fa-sort-up\'  : _model.sort === $index && !_model.sortAsc\n                         }"></i> </a> <span ng-if="::!_col.sortable"> {{::_col.label || (_col.key | labelCase)}} </span>    <tbody ng-show="!_model.waiting"> <tr> <td ng-repeat="_col in _model.cols" db-bind-cell>   </table> <div ng-if="_model.filteredItems && _model.filteredItems.length === 0 && _model.label && !_model.waiting" class="db-summary"> No {{_model.label}}. </div> <ul class="pagination" ng-if="_model.total > _model.pageSize && !_model.waiting"> <li ng-if="_model.currentPage > 1"> <a href="" aria-label="First" ng-click="_model.currentPage = 1"> <span aria-hidden="true">First</span> </a> </li> <li class="disabled" ng-if="_model.currentPage <= 1"> <a href="" aria-label="First"> <span aria-hidden="true">First</span> </a> </li> <li ng-if="_model.currentPage > 1"> <a href="" aria-label="Previous" ng-click="_model.currentPage = _model.currentPage - 1"> <span aria-hidden="true">&lt;</span> </a> </li> <li class="disabled" ng-if="_model.currentPage <= 1"> <a href="" aria-label="Previous"> <span aria-hidden="true">&lt;</span> </a> </li> <li ng-repeat="page in _model.getPages()" ng-class="{active: page === _model.currentPage}"> <a href="" ng-click="_model.currentPage = page">{{page}}</a> </li> <li ng-if="_model.currentPage < (_model.total / _model.pageSize)"> <a href="" aria-label="Next" ng-click="_model.currentPage = _model.currentPage + 1"> <span aria-hidden="true">&gt;</span> </a> </li> <li class="disabled" ng-if="_model.currentPage >= (_model.total / _model.pageSize)"> <a href="" aria-label="Next" class="disabled"> <span aria-hidden="true">&gt;</span> </a> </li> <li ng-if="_model.currentPage < (_model.total / _model.pageSize)"> <a href="" aria-label="Last" ng-click="_model.currentPage = 1 + (_model.total - (_model.total % _model.pageSize)) / _model.pageSize"> <span aria-hidden="true">Last ({{1 + (_model.total - (_model.total % _model.pageSize)) / _model.pageSize}})</span> </a> </li> <li class="disabled" ng-if="_model.currentPage >= (_model.total / _model.pageSize)"> <a href="" aria-label="Last" class="disabled"> <span aria-hidden="true">Last ({{1 + (_model.total - (_model.total % _model.pageSize)) / _model.pageSize}})</span> </a> </li> </ul> <div ng-show="_model.waiting"> <i class="fa fa-circle-o-notch fa-spin"></i> Please Wait... </div> </div>')}]);
//# sourceMappingURL=sds-angular-controls.min.js.map